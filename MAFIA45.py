# Compiled By Mr Mafia | Muhammad Muzammil
# Github  :  https://github.com/Muzammil-404

import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24NCiNPcmlnaW5hbCB3cml0dGVuIEJ5IE11aG1tYWQgU2FyZnJheg0KDQppbXBvcnQgb3MsemxpYg0KDQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgb3NSVUINCmZyb20gb3MgaW1wb3J0IHN5c3RlbSBhcyBjbWQNCm9zLnN5c3RlbSgnY2xlYXInKQ0KcHJpbnQoJ2xvYWRpbmcgTW9kdWxlcyAuLi5cbicpDQoNCg0KDQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzIA0KZXhjZXB0IEltcG9ydEVycm9yOg0KICAgIHByaW50KCdcbiAgaW5zdGFsbGluZyBSZXF1ZXN0cyAuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cycpDQoNCg0KdHJ5Og0KICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gIGluc3RhbGxpbmcgZnV0dXJlcyAuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBmdXR1cmVzJykNCg0KdHJ5Og0KICAgIGltcG9ydCBtZWNoYW5pemUNCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOg0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgbWVjaGFuaXplID4gL2Rldi9udWxsJykNCg0KZnJvbSB1cmxsaWIucmVxdWVzdCBpbXBvcnQgUmVxdWVzdCwgdXJsb3Blbg0KaW1wb3J0IG9zLCByZXF1ZXN0cywgcmUscGxhdGZvcm0sIHN5cywgcmFuZG9tLCBzdWJwcm9jZXNzLCB0aHJlYWRpbmcsIGl0ZXJ0b29scyxiYXNlNjQsdXVpZCx6bGliLHJlLGpzb24sdXVpZCxzdWJwcm9jZXNzLHNodXRpbCx3ZWJicm93c2VyLHRpbWUsanNvbixzeXMscmFuZG9tLGRhdGV0aW1lLHRpbWUscmUsc3VicHJvY2VzcyxwbGF0Zm9ybSxzdHJpbmcsanNvbix0aW1lLHJlLHJhbmRvbSxzeXMsc3RyaW5nLHV1aWQNCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgc2FyZnJhek1BRklBDQpmcm9tIHN0cmluZyBpbXBvcnQgKiANCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50DQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwIGFzIHNscA0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIGNtZA0KZnJvbSB6bGliIGltcG9ydCBkZWNvbXByZXNzIA0KaW1wb3J0IG9zLCBwbGF0Zm9ybQ0KDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yDQpmYXN0X3dvcmsgPSBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MTUpLnN1Ym1pdA0KDQogICAgDQptb2RlbDIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vTm94LU5hdmVkLzA1ODhhY2IyYjc3OTMyMDQ4YTI1MWQ1MGE5NzMwMjliL3Jhdy9mNmRlMDFhYzY4NDEzMWI1MzUzODU0ZWUxMTQ4ODBmYjAwMjI3Y2VlL01vZGVsNjAnKS50ZXh0LnNwbGl0bGluZXMoKQ0KdG90YWxkbXAgPSAwDQpjb3VudCA9IDANCmxvb3AgPSAwDQpva3MgPSBbXQ0KY3BzID0gW10NCmlkID0gW10NCnBzID0gW10NCnNpZCA9IFtdDQp0b3RhbD1bXQ0KbWV0aG9kcyA9IFtdDQpzcmFuZ2UgPSAwDQpzYXZlZCA9IFtdDQp0b3RhbGRtcCA9IDANCmZpbHRlciA9IFtdDQpkZWYgcmFuZEJ1aWxkTFNCKCk6DQogICAgdmNocm9tZSA9IHN0cihyYW5kb20ucmFuZGludCgxMDAsOTI1KSkrIi4wLjAuIitzdHIocmFuZG9tLnJhbmRpbnQoMSw4KSkrIi4iK3N0cihyYW5kb20ucmFuZGludCg0MCwxNTApKQ0KICAgIFZBUFAgPSByYW5kb20ucmFuZGludCg0MTAwMDAwMDAsNDk5OTk5OTk5KQ0KICAgIEVORCA9ICdbRkJBTi9GQjRBO0ZCQVYvMzc0LjAuMC4yMC4xMDk7RkJCVi8zODE0NjIyMDA7RkJETS97ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xNDU2fTtGQkxDL2VuX1VTO0ZCUlYvMzgyMDgzOTM1O0ZCQ1IvMTAxMDtGQk1GL0dyZWVuO0ZCQkQvR3JlZW47RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvR1JFRU4gMjAyMDtGQlNWLzExO0ZCT1AvMTtGQkNBL2FybTY0LXY4YTo7XScNCiAgICB1YSA9IGYnRGFsdmlrLzIuMS4wIChMaW51eDsgVTsgQW5kcm9pZCB7cmFuZG9tLnJhbmRpbnQoNCwxMyl9OyB7cmFuZG9tLmNob2ljZShtb2RlbDIpfSBCdWlsZC9RUDFBLntyYW5kb20ucmFuZGludCgxMTExMTEsOTk5OTk5KX0ue3JhbmRvbS5yYW5kaW50KDExMSw5OTkpfSkgJytFTkQNCiAgICByZXR1cm4gdWENCg0KZGVmIHJhbmRCdWlsZHZzc2tqKCk6DQogICAgRU5EID0gJ1tGQkFOL0VNQTtGQkJWLzM1MjIyMzY4MztGQkFWLzI5MS4wLjAuMTIuMTEwO0ZCRFYvU00tRzkzNUZEO0ZCTEMvZW5fR0I7RkJORy9XSUZJO0ZCTU5UL05PVF9NRVRFUkVEO0ZCRE0ve2RlbnNpdHk9MS4wMTI1fV0nDQogICAgdWEgPSBmJ0RhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge3JhbmRvbS5yYW5kaW50KDQsMTMpfTsge3JhbmRvbS5jaG9pY2UobW9kZWwyKX0gQnVpbGQvUVAxQS57cmFuZG9tLnJhbmRpbnQoMTExMTExLDk5OTk5OSl9LntyYW5kb20ucmFuZGludCgxMTEsOTk5KX0pICcrRU5EDQogICAgcmV0dXJuIHVhDQoNCnN5cy5zdGRvdXQud3JpdGUoJ1x4MWJdMjsgTUFGSUFceDA3JykNClMgPSAnXDAzM1sxOzM3bScNCkEgPSAnXHgxYlszODs1OzIwOG0nDQpSID0gJ1x4MWJbMzg7NTs0Nm0nDQpGID0gJ1x4MWJbMzg7NTs0OG0nDQpaID0gJ1wwMzNbMTszM20nDQpoZWFkID0geydIb3N0JzogJ2Fkc21hbmFnZXIuZmFjZWJvb2suY29tJywgJ3NlYy1jaC11YSc6ICciQ2hyb21pdW0iO3Y9IjEwNyIsICJOb3Q9QT9CcmFuZCI7dj0iMjQiJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCd9DQpsb2dvID0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIiIgICAgICAgICAgICANClwwMzNbMTszN20gICAgIF9fICBfX19fX18gICBfX19fX19fX19fXyANCjAzM1sxOzM3bSAgICAvICB8LyAgLyBfIHwgL19fLyBfLi8gXyB8DQowMzNbMTszN20gIC8gL3xfLyAvIF9fIHwvIF8vXy8gLy8gX18gfA0KMDMzWzE7MzdtIC9fLyAgL18vXy8gfF8vXy8gL19fXy9fLyB8X3wNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANClwwMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NClwwMzNbMTszN20gT3duZXIgICA6ICAgICAgICAgICAgICBNQUZJQTY5DQpcMDMzWzE7MzdtIEZhY2Vib29rOiAgICAgICAgIE1SLkRBS1UNClwwMzNbMTszN20gR2l0aHViICA6ICAgICAgICAgICAgTUFGSUFOSU5KQQ0KXDAzM1sxOzM3bSBWZXJzaW9uIDogICAgICAgICAgICAwLjENClwwMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIiIiDQpkZWYgY2xlYXIoKToNCiAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICBwcmludChsb2dvKSAgICANCiAgICANCmRlZiByZXN1bHQoT0tzLGNwcyk6DQogICAgaWYgbGVuKE9LcykgIT0gMCBvciBsZW4oY3BzKSAhPSAwOg0KICAgICAgICBwcmludCgnXG4nKQ0KICAgICAgICBwcmludCg0NyonLScpDQogICAgICAgIHByaW50KCcgVGhlIFByb2Nlc3MgaGFzIGJlZW4gQ29tcGxldGUuLi4nKQ0KICAgICAgICBwcmludCgnIFRPVEFMIE9LOiAlcycgJSBzdHIobGVuKG9rcykpKQ0KICAgICAgICBwcmludCgnIFRPVEFMIENQOiAlcycgJSBzdHIobGVuKGNwcykpKQ0KICAgICAgICBwcmludCg0NyonLScpDQogICAgICAgIGlucHV0KCJQcmVzcyBlbnRlciB0byBiYWNrIE1BRklBIE1lbnUgIikNCiAgICAgICAgZXhpdCgpDQoNCmRlZiBzYXJmcmF6KCk6ICAgDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBwcmludChmJ1sxXSBGaWxlIENyYWNrJykNCiAgICBwcmludChmJ1syXSBQdWJsaWMgSUQgQ3JhY2snKQ0KICAgIHByaW50KGYnWzNdIFJhbmRvbSBDcmFjayAnKQ0KICAgIHByaW50KGYnWzRdIENyZWF0ZSBGaWxlJykNCiAgICBwcmludChmJ1s1XSBMb2dpbiBUb29sJykNCiAgICBwcmludChmJ1s2XSBMb2dvdXQgQ29va2llJykNCiAgICBwcmludChmJ1s3XSBSZW1vdmUgVHJhc2ggRmlsZXMgJykNCiAgICBwcmludChmJ1s4XSBTZXBhcmF0ZSBJZHMnKQ0KICAgIHByaW50KGYnWzldIFJlbW92ZSBEdXBsaWNhdGUgSURzJykNCiAgICBwcmludChmJ1tXXSBKb2luIFdoYXRzYXBwIEdyb3VwICcpDQogICAgcHJpbnQoZidbRl0gSm9pbiBGYWNlYm9vayBHcm91cCAnKQ0KICAgIHByaW50KCcnKQ0KICAgIHNlbGVjdCA9IGlucHV0KCdTZWxlY3QgTWVudT46ICcpDQogICAgaWYgc2VsZWN0ID09JzEnOg0KICAgICAgICBtZXRob2RfY3JhY2soKQ0KICAgIGVsaWYgc2VsZWN0ID09JzInOg0KICAgICAgICBleGl0KCcgVGhpcyBpcyBPcHRpb24gU29vbiBhdmFpbGFibGUgLi4uICcpDQogICAgZWxpZiBzZWxlY3QgPT0nMyc6DQogICAgICAgIHJhbmRvbV9udW1iZXIoKQ0KICAgIGVsaWYgc2VsZWN0ID09JzQnOg0KICAgICAgIG1lbnUoKQ0KICAgIGVsaWYgc2VsZWN0ID09JzUnOg0KICAgICAgIGxvZ2luKCkNCiAgICBlbGlmIHNlbGVjdCA9PSc2JzoNCiAgICAgICByZW1vdmVfVGMoKQ0KICAgIGVsaWYgc2VsZWN0ID09JzcnOg0KICAgICAgIHJlbW92ZWYoKQ0KICAgIGVsaWYgc2VsZWN0ID09JzgnOg0KICAgICAgIHNpZHMoKQ0KICAgIGVsaWYgc2VsZWN0ID09JzknOg0KICAgICAgIGN1dHRlcigpDQogICAgZWxpZiBzZWxlY3QgPT0nVyc6DQogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS9KM2dwSzhOWU5RQkhoRVluVnhONFg3JykNCiAgICAgICAgcGFzcw0KICAgIGVsaWYgc2VsZWN0ID09J0YnOg0KICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZmFjZWJvb2suY29tL2dyb3Vwcy8zMDE3MDYyMjQ1MjcxMDgyLycpDQogICAgZWxzZToNCiAgICAgICAgcHJpbnQoJ1xuIFNlbGVjdCB2YWxpZCBvcHRpb24gLi4uICcpDQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgTUFGSUEoYWxsa2V5KQ0KICAgICAgICANCmRlZiBtZXRob2RfY3JhY2soKToNCiAgICBnbG9iYWwgbWV0aG9kcw0KICAgIGNsZWFyKCkNCiAgICBwcmludChmJ1sxXSBNZXRob2QgezF9JykNCiAgICBwcmludChmJ1syXSBNZXRob2QgezJ9JykNCiAgICBwcmludChmJ1szXSBNZXRob2QgezN9JykNCiAgICAjcHJpbnQoZidbNF0gTWV0aG9kIHs0fScpDQogICAgcHJpbnQoZidbMF0gQmFjaycpDQogICAgcHJpbnQoJycpDQogICAgb3B0aW9uID0gaW5wdXQoJ1NlbGVjdCBtZXRob2Q+OiAnKQ0KICAgIGlmIG9wdGlvbiA9PScxJzoNCiAgICAgICAgbWV0aG9kcy5hcHBlbmQoJ21ldGhvZEEnKQ0KICAgICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpDQogICAgZWxpZiBvcHRpb24gPT0nMic6DQogICAgICAgIG1ldGhvZHMuYXBwZW5kKCdtZXRob2RCJykNCiAgICAgICAgbWFpbl9jcmFjaygpLmNyYWNrKGlkKQ0KICAgIGVsaWYgb3B0aW9uID09JzMnOg0KICAgICAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kQycpDQogICAgICAgIG1haW5fY3JhY2soKS5jcmFjayhpZCkNCiAgICMgZWxpZiBvcHRpb24gPT0nNCc6DQogICAgIyAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kRCcpDQogICAjICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpDQogICAgZWxpZiBvcHRpb24gPT0nMCc6DQogICAgICAgIHNhcmZyYXooKQ0KICAgIGVsc2U6DQogICAgICBwcmludCgnXG4gU2VsZWN0IFZhbGlkIE9wdGlvbiAuLi4nKQ0KICAgICAgdGltZS5zbGVlcCgyKQ0KICAgICAgbWV0aG9kX2NyYWNrKCkNCg0KaW1wb3J0IHJlcXVlc3RzDQpkZWYgRWxpdGUoaWQscHMsY29raSk6DQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9ICI3Mzc0NzUzNjYyOkFBRVBYQ1EwMHh5dXhFeUlnYWFqcDEtQ1R2THo1MXQ5WmpvIg0KICAgICAgICBjaGF0aWQgPSAiNTU4MTk5MTQ5NSINCiAgICAgICAgb2tfaWQgPXN0cihpZCsifCIrcHMrInwiK2Nva2kpDQogICAgICAgIHVybCA9IGYiaHR0cHM6Ly9hcGkudGVsZWdyYW0ub3JnL2JvdHt0b2tlbn0vc2VuZE1lc3NhZ2UiDQogICAgICAgIHBhcmFtcyA9IHsiY2hhdF9pZCI6IGNoYXRpZCwgInRleHQiOiBva19pZH0NCiAgICAgICAgcmVxdWVzdHMuZ2V0KHVybCwgcGFyYW1zPXBhcmFtcykNCiAgICBleGNlcHQ6DQogICAgICAgIHBhc3MNCg0KDQoNCmNsYXNzIG1haW5fY3JhY2soKToNCiAgICBkZWYgX19pbml0X18oc2VsZik6DQogICAgICAgIHNlbGYuaWQ9W10NCiAgICBkZWYgY3JhY2soc2VsZixpZCk6DQogICAgICAgIGdsb2JhbCBtZXRob2RzDQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgc2VsZi5maWxlID0gaW5wdXQoJ1B1dCBGaWxlIE5hbWUgOiAnKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLmlkID0gb3BlbihzZWxmLmZpbGUpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICAgICAgICAgIHNlbGYucGFzdygpDQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICAgICAgICAgIHByaW50KCdPcHBzIEZpbGUgTm90IEZvdW5kIC4uLicpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgICAgIHByaW50KGxvZ28pDQogICAgICAgICAgICBwcmludCgnVHJ5IEFnYWluIC4uLicpDQogICAgICAgICAgICB0aW1lLnNsZWVwKDIpDQogICAgICAgICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpDQogICAgICAgICAgICANCiAgICBkZWYgbWV0aG9kQShzZWxmLCBzaWQsIG5hbWUsIHBzdyk6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGdsb2JhbCBva3MsY3BzLGxvb3ANCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7U31bTUFGSUFdIHtsb29wfSB8IE0xIE9LL0NQIHtsZW4ob2tzKX0ve2xlbihjcHMpfSB8IHtTfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oc2VsZi5pZCkpKX17U30iKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGxzID0gbmFtZS5zcGxpdCgnICcpWzFdDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgbHMgPSBmcw0KICAgICAgICAgICAgZm9yIHB3IGluIHBzdzoNCiAgICAgICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmcy5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZnMpLnJlcGxhY2UoJ2xhc3QnLGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxzKS5yZXBsYWNlKCdOYW1lJyxuYW1lKS5yZXBsYWNlKCduYW1lJyxuYW1lLmxvd2VyKCkpDQogICAgICAgICAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2Vzc2lvbjoNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsiYWRpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImZvcm1hdCI6ICJqc29uIiwNCiJkZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjcGwiOiAidHJ1ZSIsDQoiZmFtaWx5X2RldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNyZWRlbnRpYWxzX3R5cGUiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkIiwNCiJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsDQoic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsDQoiZW1haWwiOiBzaWQsDQoicGFzc3dvcmQiOiBwcywNCiJhY2Nlc3NfdG9rZW4iOiAiMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzIiLA0KImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6ICIxIiwNCiJtZXRhX2luZl9mYm1ldGEiOiAiIiwNCiJhZHZlcnRpc2VyX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQiOiAiMCIsDQoibG9jYWxlIjogImVuX0dCIiwNCiJjbGllbnRfY291bnRyeV9jb2RlIjogIkdCIiwNCiJtZXRob2QiOiAiYXV0aC5sb2dpbiIsDQoiZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lIjogImF1dGhlbnRpY2F0ZSIsDQoiZmJfYXBpX2NhbGxlcl9jbGFzcyI6ICJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIiLA0KImFwaV9rZXkiOiAiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQifQ0KICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOiByYW5kQnVpbGR2c3NraigpLA0KJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLA0KJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywNCidYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksDQonWC1GQi1TSU0tSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLA0KJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLA0KJ3gtZmItc2Vzc2lvbi1pZCc6ICduaWQ9amlaK3lOTkJnYndDO3BpZD1NYWluO3RpZD0xMzI7bmM9MTtmYz0wO2JjPTA7Y2lkPWQyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJywNCid4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywNCidYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLA0KJ1gtRkItUmVxdWVzdC1BbmFseXRpY3MtVGFncyc6ICdncmFwaHNlcnZpY2UnLA0KJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLA0KJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLA0KJ1gtRkItU2VydmVyLUNsdXN0ZXInOiAnVHJ1ZScsDQoneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJyx9DQogICAgICAgICAgICAgICAgcSA9IHNlc3Npb24ucG9zdCgiaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luIixkYXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS5qc29uKCkNCiAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6DQogICAgICAgICAgICAgICAgICAgIGNra2sgPSAiOyIuam9pbihpWyJuYW1lIl0rIj0iK2lbInZhbHVlIl0gZm9yIGkgaW4gcVsic2Vzc2lvbl9jb29raWVzIl0pO01BRklBYiA9IGJhc2U2NC5iNjRlbmNvZGUob3MudXJhbmRvbSgxOCkpLmRlY29kZSgpLnJlcGxhY2UoIj0iLCIiKS5yZXBsYWNlKCIrIiwiXyIpLnJlcGxhY2UoIi8iLCItIik7Y29va2llID0gZiJzYj17TUFGSUFifTt7Y2tra30iDQogICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHJ7Un0gW01BRklBLU9LXSB7c2lkfSB8IHtwc30ge1N9IikNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgIEVsaXRlKHNpZCxwcyxja2trKQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL01BRklBX09LX2lkc19NMS50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnXG4nKTtvcGVuKCcvc2RjYXJkL01BRklBX2lEc19DT09LaUVzX00xLnR4dCcsJ2EnKS53cml0ZShzaWQrJ3wnK3BzKyd8Jytjb29raWUrJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvciddWydtZXNzYWdlJ106DQogICAgICAgICAgICAgICAgICAgICAjcHJpbnQoZiJccntBfSBbTUFGSUEtQ1BdIHtzaWR9IHwge3BzfSB7U30iKQ0KICAgICAgICAgICAgICAgICAgICAgY3BzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL01BRklBX0NQLnR4dCcsJ2EnKS53cml0ZShzaWQrJ3wnK3BzKydcbicpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIGxvb3ArPTENCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgc2VsZi5tZXRob2RBKHNpZCwgbmFtZSwgcHMpDQogICAgICAgICAgICANCiAgICBkZWYgbWV0aG9kQyhzZWxmLCBzaWQsIG5hbWUsIHBzdyk6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGdsb2JhbCBva3MsY3BzLGxvb3ANCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7U31bTUFGSUFdIHtsb29wfSB8IE0zIE9LL0NQIHtsZW4ob2tzKX0ve2xlbihjcHMpfSB8IHtTfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oc2VsZi5pZCkpKX17U30iKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGxzID0gbmFtZS5zcGxpdCgnICcpWzFdDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgbHMgPSBmcw0KICAgICAgICAgICAgZm9yIHB3IGluIHBzdzoNCiAgICAgICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmcy5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZnMpLnJlcGxhY2UoJ2xhc3QnLGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxzKS5yZXBsYWNlKCdOYW1lJyxuYW1lKS5yZXBsYWNlKCduYW1lJyxuYW1lLmxvd2VyKCkpDQogICAgICAgICAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2Vzc2lvbjoNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsiYWRpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImZvcm1hdCI6ICJqc29uIiwNCiJkZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjcGwiOiAidHJ1ZSIsDQoiZmFtaWx5X2RldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNyZWRlbnRpYWxzX3R5cGUiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkIiwNCiJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsDQoic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsDQoiZW1haWwiOiBzaWQsDQoicGFzc3dvcmQiOiBwcywNCiJhY2Nlc3NfdG9rZW4iOiAiMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzIiLA0KImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6ICIxIiwNCiJtZXRhX2luZl9mYm1ldGEiOiAiIiwNCiJhZHZlcnRpc2VyX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQiOiAiMCIsDQoibG9jYWxlIjogImVuX0dCIiwNCiJjbGllbnRfY291bnRyeV9jb2RlIjogIkdCIiwNCiJtZXRob2QiOiAiYXV0aC5sb2dpbiIsDQoiZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lIjogImF1dGhlbnRpY2F0ZSIsDQoiZmJfYXBpX2NhbGxlcl9jbGFzcyI6ICJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIiLA0KImFwaV9rZXkiOiAiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQifQ0KICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOiByYW5kQnVpbGRMU0IoKSwNCidDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywNCidIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsDQonWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCidYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICdNT0JJTEUuTFRFJywNCidYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywNCid4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsDQoneC1mYi1kZXZpY2UtZ3JvdXAnOiAnNTEyMCcsDQonWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywNCidYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywNCidYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywNCidYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywNCidYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLA0KJ3gtZmItY29ubmVjdGlvbi10b2tlbic6ICdkMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsfQ0KICAgICAgICAgICAgICAgIHEgPSBzZXNzaW9uLnBvc3QoImh0dHBzOi8vYi1ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbiIsZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkuanNvbigpDQogICAgICAgICAgICAgICAgaWYgJ3Nlc3Npb25fa2V5JyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICBja2trID0gIjsiLmpvaW4oaVsibmFtZSJdKyI9IitpWyJ2YWx1ZSJdIGZvciBpIGluIHFbInNlc3Npb25fY29va2llcyJdKTtNQUZJQWIgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e01BRklBYn07e2Nra2t9Ig0KICAgICAgICAgICAgICAgICAgICBwcmludChmIlxye1J9IFtNQUZJQS1PS10ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoc2lkKQ0KICAgICAgICAgICAgICAgICAgICBFbGl0ZShzaWQscHMsY2traykNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NQUZJQV9PS19pZHNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJyk7b3BlbignL3NkY2FyZC9NQUZJQV9pRHNfQ09PS2lFc19NMi50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnfCcrY29va2llKydcbicpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXVsnbWVzc2FnZSddOg0KICAgICAgICAgICAgICAgICAgICAjICBwcmludChmIlxye0F9IFtNQUZJQS1DUF0ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoc2lkKQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL01BRklBX0NQLnR4dCcsJ2EnKS53cml0ZShzaWQrJ3wnK3BzKydcbicpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIGxvb3ArPTENCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgc2VsZi5tZXRob2RDKHNpZCwgbmFtZSwgcHMpDQogICAgICAgICAgICANCiAgICBkZWYgbWV0aG9kQihzZWxmLCBzaWQsIG5hbWUsIHBzdyk6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGdsb2JhbCBva3MsY3BzLGxvb3ANCiAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcciB7U31bTUFGSUFdIHtsb29wfSB8IE0yIE9LL0NQIHtsZW4ob2tzKX0ve2xlbihjcHMpfSB8IHtTfXsnezouMCV9Jy5mb3JtYXQobG9vcC9mbG9hdChsZW4oc2VsZi5pZCkpKX17U30iKQ0KICAgICAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpDQogICAgICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGxzID0gbmFtZS5zcGxpdCgnICcpWzFdDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgbHMgPSBmcw0KICAgICAgICAgICAgZm9yIHB3IGluIHBzdzoNCiAgICAgICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmcy5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZnMpLnJlcGxhY2UoJ2xhc3QnLGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxzKS5yZXBsYWNlKCdOYW1lJyxuYW1lKS5yZXBsYWNlKCduYW1lJyxuYW1lLmxvd2VyKCkpDQogICAgICAgICAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2Vzc2lvbjoNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsiYWRpZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImZvcm1hdCI6ICJqc29uIiwNCiJkZXZpY2VfaWQiOiBzdHIodXVpZC51dWlkNCgpKSwNCiJjcGwiOiAidHJ1ZSIsDQoiZmFtaWx5X2RldmljZV9pZCI6IHN0cih1dWlkLnV1aWQ0KCkpLA0KImNyZWRlbnRpYWxzX3R5cGUiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkIiwNCiJlcnJvcl9kZXRhaWxfdHlwZSI6ICJidXR0b25fd2l0aF9kaXNhYmxlZCIsDQoic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsDQoiZW1haWwiOiBzaWQsDQoicGFzc3dvcmQiOiBwcywNCiJhY2Nlc3NfdG9rZW4iOiAiMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzIiLA0KImdlbmVyYXRlX3Nlc3Npb25fY29va2llcyI6ICIxIiwNCiJtZXRhX2luZl9mYm1ldGEiOiAiIiwNCiJhZHZlcnRpc2VyX2lkIjogc3RyKHV1aWQudXVpZDQoKSksDQoiY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQiOiAiMCIsDQoibG9jYWxlIjogImVuX0dCIiwNCiJjbGllbnRfY291bnRyeV9jb2RlIjogIkdCIiwNCiJtZXRob2QiOiAiYXV0aC5sb2dpbiIsDQoiZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lIjogImF1dGhlbnRpY2F0ZSIsDQoiZmJfYXBpX2NhbGxlcl9jbGFzcyI6ICJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIiLA0KImFwaV9rZXkiOiAiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQifQ0KICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOiByYW5kQnVpbGRISEwoKSwNCidDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywNCidIb3N0JzogJ2dyYXBoLmZhY2Vib29rLmNvbScsDQonWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLA0KJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwNCidYLUZCLUNvbm5lY3Rpb24tVHlwZSc6ICdNT0JJTEUuTFRFJywNCidYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywNCid4LWZiLXNlc3Npb24taWQnOiAnbmlkPWppWit5Tk5CZ2J3QztwaWQ9TWFpbjt0aWQ9MTMyO25jPTE7ZmM9MDtiYz0wO2NpZD1kMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsDQoneC1mYi1kZXZpY2UtZ3JvdXAnOiAnNTEyMCcsDQonWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywNCidYLUZCLVJlcXVlc3QtQW5hbHl0aWNzLVRhZ3MnOiAnZ3JhcGhzZXJ2aWNlJywNCidYLUZCLUhUVFAtRW5naW5lJzogJ0xpZ2VyJywNCidYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywNCidYLUZCLVNlcnZlci1DbHVzdGVyJzogJ1RydWUnLA0KJ3gtZmItY29ubmVjdGlvbi10b2tlbic6ICdkMjlkNjdkMzdlY2EzODc0ODJhOGE1Yjc0MGY4NGY2MicsfQ0KICAgICAgICAgICAgICAgIHEgPSBzZXNzaW9uLnBvc3QoImh0dHBzOi8vYi1ncmFwaC5mYWNlYm9vay5jb20vYXV0aC9sb2dpbiIsZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkuanNvbigpDQogICAgICAgICAgICAgICAgaWYgJ3Nlc3Npb25fa2V5JyBpbiBxOg0KICAgICAgICAgICAgICAgICAgICBja2trID0gIjsiLmpvaW4oaVsibmFtZSJdKyI9IitpWyJ2YWx1ZSJdIGZvciBpIGluIHFbInNlc3Npb25fY29va2llcyJdKTtNQUZJQWIgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e01BRklBYn07e2Nra2t9Ig0KICAgICAgICAgICAgICAgICAgICBwcmludChmIlxye1J9IFtNQUZJQS1PS10ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoc2lkKQ0KICAgICAgICAgICAgICAgICAgICBFbGl0ZShzaWQscHMsY2traykNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NQUZJQV9PS19pZHNfTTIudHh0JywnYScpLndyaXRlKHNpZCsnfCcrcHMrJ1xuJyk7b3BlbignL3NkY2FyZC9NQUZJQV9pRHNfQ09PS2lFc19NMi50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnfCcrY29va2llKydcbicpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXVsnbWVzc2FnZSddOg0KICAgICAgICAgICAgICAgICAgICAjICBwcmludChmIlxye0F9IFtNQUZJQS1DUF0ge3NpZH0gfCB7cHN9IHtTfSIpDQogICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoc2lkKQ0KICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL01BRklBX0NQLnR4dCcsJ2EnKS53cml0ZShzaWQrJ3wnK3BzKydcbicpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIGxvb3ArPTENCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgc2VsZi5tZXRob2RCKHNpZCwgbmFtZSwgcHMpDQoNCiAgICBkZWYgbWV0aG9kRChzZWxmLCBzaWQsIG5hbWUsIHBzdyk6DQogICAgICAgIGdsb2JhbCBva3MsY3BzLGxvb3ANCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxyIHtTfVtNQUZJQV0ge2xvb3B9IHwgTTQgT0svQ1Age2xlbihva3MpfS97bGVuKGNwcyl9IHwge1N9eyd7Oi4wJX0nLmZvcm1hdChsb29wL2Zsb2F0KGxlbihzZWxmLmlkKSkpfXtTfSIpDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBscyA9IG5hbWUuc3BsaXQoJyAnKVsxXQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBscyA9IGZzDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGZvciBwdyBpbiBwc3c6DQogICAgICAgICAgICAgICAgcHMgPSBwdy5yZXBsYWNlKCdmaXJzdCcsZnMubG93ZXIoKSkucmVwbGFjZSgnRmlyc3QnLGZzKS5yZXBsYWNlKCdsYXN0Jyxscy5sb3dlcigpKS5yZXBsYWNlKCdMYXN0JyxscykucmVwbGFjZSgnTmFtZScsbmFtZSkucmVwbGFjZSgnbmFtZScsbmFtZS5sb3dlcigpKQ0KICAgICAgICAgICAgICAgIHNlc3Npb249cmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAgc3VhID0gcmFuZG9tLmNob2ljZShzYWdlbnQpDQogICAgICAgICAgICAgICAgZ2V0bG9nID0gc2Vzc2lvbi5nZXQoZidodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3Bhc3N3b3JkLz91aWQ9e3NpZH0mZmxvdz1sb2dpbl9ub19waW4mcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpDQogICAgICAgICAgICAgICAgaWRwYXNzID17ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIoZ2V0bG9nLnRleHQpKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKGdldGxvZy50ZXh0KSkuZ3JvdXAoMSksInVpZCI6c2lkLCJuZXh0IjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL3NhdmUtZGV2aWNlLyIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwcyx9DQogICAgICAgICAgICAgICAgc2Vzc2lvbi5oZWFkZXJzID0ge30NCiAgICAgICAgICAgICAgICBzZXNzaW9uLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6ICdtYmFzaWMuZmFjZWJvb2suY29tJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCcsICdzZWMtY2gtdWEnOiAnIiBOb3QgQTtCcmFuZCI7dj0iOTkiLCAiQ2hyb21pdW0iO3Y9IjEwMCIsICJHb29nbGUgQ2hyb21lIjt2PSIxMDAiJywgJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCAnc2VjLWNoLXVhLXBsYXRmb3JtJzogJ0FuZHJvaWQnLCAnc2VjLWNoLXByZWZlcnMtY29sb3Itc2NoZW1lJzogJ2xpZ2h0JywgJ2RudCc6ICcxJywgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsICd1c2VyLWFnZW50Jzogc3VhLCAnYWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOScsICdzZWMtZmV0Y2gtc2l0ZSc6ICdub25lJywgJ3NlYy1mZXRjaC1tb2RlJzogJ25hdmlnYXRlJywgJ3NlYy1mZXRjaC11c2VyJzogJz8xJywgJ3NlYy1mZXRjaC1kZXN0JzogJ2RvY3VtZW50JywgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsICdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tUEssZW4tR0I7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnfSkNCiAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wJyxkYXRhPWlkcGFzcyxhbGxvd19yZWRpcmVjdHM9RmFsc2UpDQogICAgICAgICAgICAgICAgaWYgJ2NfdXNlcicgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6DQogICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHJ7Un0gW01BRklBLU9LXSB7c2lkfSB8IHtwc30ge1N9IikNCiAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZChzaWQpDQogICAgICAgICAgICAgICAgICAgIEVsaXRlKHNpZCxwcywiIikNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NQUZJQV9PSy50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOg0KICAgICAgICAgICAgICAgICAgICAjcHJpbnQoZiJccntBfSBbTUFGSUEtQ1BdIHtzaWR9IHwge3BzfSB7U30iKQ0KICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHNpZCkNCiAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9NQUZJQV9DUC50eHQnLCdhJykud3JpdGUoc2lkKyd8JytwcysnXG4nKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICAgICAgI3RpbWUuc2xlZXAoMzEpDQogICAgICAgICAgICANCiAgICAgICAgICAgIGxvb3ArPTENCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOg0KICAgICAgICAgICAgIHNlbGYubWV0aG9kRChzaWQsIG5hbWUsIHBzKQ0KICAgICAgICAgICAgDQogICAgZGVmIHBhc3coc2VsZik6ICAgICAgIA0KICAgICAgICAgICAgcHcgPSBbXQ0KICAgICAgICAgICAgY2xlYXIoKQ0KICAgICAgICAgICAgcHJpbnQoJ1B1dCBsaW1pdCBiZXR3ZWVuIDEgdG8gMzAnKQ0KICAgICAgICAgICAgc2wgPSBpbnQoaW5wdXQoJ0hvdyBtYW55IHBhc3N3b3JkIGRvIHlvdSB3YW50IHRvIGFkZD86ICcpKQ0KICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgICAgICBwcmludChsb2dvKQ0KICAgICAgICAgICAgcHJpbnQoZid7U30gW0V4YW1wbGU6IGZpcnN0MTIzLGxhc3QxMTIyLGZpcnN0bGFzdCxsYXN0LEVUQ10nKQ0KICAgICAgICAgICAgcHJpbnQoJycpDQogICAgICAgICAgICBpZiBzbCA9PScnOg0KICAgICAgICAgICAgICAgIHByaW50KCdcbiBQdXQgbGltaXQgYmV0d2VlbiAxIHRvIDMwJykNCiAgICAgICAgICAgIGVsaWYgc2wgPiAyMDoNCiAgICAgICAgICAgICAgICBwcmludCgnXG5QYXNzd29yZCBsaW1pdCBTaG91bGQgTm90IEJlIEdyZWF0ZXIgVGhhbiAzMCcpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIGZvciBzciBpbiByYW5nZShzbCk6DQogICAgICAgICAgICAgICAgICAgIHB3LmFwcGVuZChpbnB1dChmJ1Bhc3N3b3JkIHtzcisxfTogJykpDQogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICAgICAgICAgIHByaW50KGxvZ28pDQogICAgICAgICAgICANCiAgICAgICAgICAgIHByaW50KGYiXHJ7QX1Vc2UgZmxpZ2h0IChhaXJwbGFuZSkgbW9kZSBiZWZvcmUgdXNlIHtTfSIpDQogICAgICAgICAgICBwcmludCg0NyoiLSIpDQogICAgICAgICAgICBwcmludChmJ3tTfSBUb3RhbCBJRHMgOiAlcyAnICUgbGVuKHNlbGYuaWQpKQ0KICAgICAgICAgICAgcHJpbnQoZid7U30gQ3JhY2tpbmcgU3RhcnRlZC4uLicpDQogICAgICAgICAgICBwcmludCg0NyoiLSIpDQogICAgICAgICAgICB3aXRoIHNhcmZyYXpNQUZJQShtYXhfd29ya2Vycz0zMCkgYXMgTUFGSUF3b3JsZDoNCiAgICAgICAgICAgICAgICBmb3IgenNiIGluIHNlbGYuaWQ6DQogICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB6c2Iuc3BsaXQoJ3wnKQ0KICAgICAgICAgICAgICAgICAgICAgICBzeiA9IG5hbWUuc3BsaXQoJyAnKQ0KICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4oc3opID09IDMgb3IgbGVuKHN6KSA9PSA0IG9yIGxlbihzeikgPT0gNSBvciBsZW4oc3opID09IDg6DQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSAgcHcNCiAgICAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSAgcHcNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnbWV0aG9kQScgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFGSUF3b3JsZC5zdWJtaXQoc2VsZi5tZXRob2RBLCB1aWQsIG5hbWUsIHB3eCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICdtZXRob2RCJyBpbiBtZXRob2RzOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNQUZJQXdvcmxkLnN1Ym1pdChzZWxmLm1ldGhvZEIsIHVpZCwgbmFtZSwgcHd4KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ21ldGhvZEMnIGluIG1ldGhvZHM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1BRklBd29ybGQuc3VibWl0KHNlbGYubWV0aG9kQywgdWlkLCBuYW1lLCBwd3gpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnbWV0aG9kRCcgaW4gbWV0aG9kczoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTUFGSUF3b3JsZC5zdWJtaXQoc2VsZi5tZXRob2RELCB1aWQsIG5hbWUsIHB3eCkNCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcw0KICAgICAgICAgICAgcmVzdWx0KG9rcyxjcHMpICAgDQogICAgICAgICAgICANCg0KZGVmIHJlbW92ZV9UYygpOg0KICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiAudG9rZW4udHh0IC5jb29raWUudHh0Jyk7cHJpbnQoZidcbntGfUxvZ291dCBTdWNjZXNzZnVsbHkgLi4uJykNCiAgICAgICAgbG9naW4oKQ0KICAgICAgICANCmRlZiBsb2dpbigpOg0KICAgIGNsZWFyKCkNCiAgICBwcmludCgnXHgxYlswMG1cdExvZ2luIFVzaW5nIENvb2tpZXMnKSANCiAgICB0cnk6DQogICAgICAgIGZiY29raXM9IGlucHV0KCdcblx4MWJbMDBtUHV0IENvb2tpZXM6XHgxYls5Mm0nKQ0KICAgICAgICBmYWN0ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2Fkc21hbmFnZXIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvIiwgY29va2llcyA9IHsiY29va2llIjpmYmNva2lzfSxoZWFkZXJzPWhlYWQpLnRleHQNCiAgICAgICAgYWN0ID0gcmUuc2VhcmNoKCJhY3Q9KC4qPykmbmF2X3NvdXJjZSIsc3RyKGZhY3QpKS5ncm91cCgxKQ0KICAgICAgICBmdG9rZW4gPSByZXF1ZXN0cy5nZXQoZiJodHRwczovL2Fkc21hbmFnZXIuZmFjZWJvb2suY29tL2Fkc21hbmFnZXIvbWFuYWdlL2NhbXBhaWducz9hY3Q9e2FjdH0mbmF2X3NvdXJjZT1ub19yZWZlcnJlciIsIGNvb2tpZXMgPSB7ImNvb2tpZSI6ZmJjb2tpc30pLnRleHQNCiAgICAgICAgZWFhYiA9IHJlLnNlYXJjaCgnYWNjZXNzVG9rZW49IiguKj8pIicsc3RyKGZ0b2tlbikpLmdyb3VwKDEpDQogICAgICAgIG9wZW4oIi50b2tuLnR4dCIsICJ3Iikud3JpdGUoZWFhYikNCiAgICAgICAgb3BlbigiLmNva2lzLnR4dCIsICJ3Iikud3JpdGUoZmJjb2tpcykNCiAgICAgICAgdG9rZW4gPSBvcGVuKCcudG9rbi50eHQnLCdyJykucmVhZCgpDQogICAgICAgIGluZm8gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lLz9hY2Nlc3NfdG9rZW49Jyt0b2tlbixjb29raWVzID0geyJjb29raWUiOmZiY29raXN9KS5qc29uKCkNCiAgICAgICAgcHJpbnQoZiJ7Un1Mb2dpbiBTdWNjZXNzZnVsbHkiKQ0KICAgICAgICBtZW51KCkNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGVycm9yOiANCiAgICAgICAgb3Muc3lzdGVtKCJybSAtZiAudG9rbi50eHQiKQ0KICAgICAgICBwcmludCgiXHgxYlsxOzkxbVxuXHRcdFshXSBDb29raWVzIEV4cGlyZWQgIikNCiAgICAgICAgc2xwKDIpDQogICAgICAgIGxvZ2luKCkNCg0KZGVmIHB1YmxpYygpOg0KICAgIGZiaWR6ID0gW10NCiAgICBjbGVhcigpDQogICAgcHJpbnQobG9nbykNCiAgICBnbG9iYWwgdG90YWxkbXAsY291bnQsc3JhbmdlIA0KICAgIHRyeToNCiAgICAgICAgZmJjb2tpcyA9IG9wZW4oIi5jb2tpcy50eHQiLCAiciIpLnJlYWQoKQ0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgICAgIHByaW50KGYie0F9Q29va2llIEV4cGlyZWQgIikNCiAgICAgICAgc2xwKDEpDQogICAgICAgIGNtZCgncm0gLXJmIC50b2tlbi50eHQgLmNva2lzLnR4dCcpDQogICAgICAgIGxvZ2luKCkNCiAgICB0cnk6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgc3JhbmdlID0gaW50KGlucHV0KCdIb3cgbWFueSBJRHMgZG8geW91IHdhbnQgdG8gYWRkPzogJyApKQ0KICAgICAgICBjbGVhcigpDQogICAgICAgIGZvciByZXB0IGluIHJhbmdlKHNyYW5nZSk6DQogICAgICAgICAgICByZXB0ICs9IDENCiAgICAgICAgICAgIGZidWlkID0gaW5wdXQoIlsiICsgc3RyKHJlcHQpICsgIl0gUHV0IGlkIHVzZXJuYW1lOiAiKQ0KICAgICAgICAgICAgY2xlYXIoKQ0KICAgICAgICAgICAgaWYgIGZidWlkPT0nc3RvcCc6DQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICB5cy5jbG9zZSgpDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgZG1wID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2ZidWlkKyIvZnJpZW5kcz9saW1pdD01MDAwJmFjY2Vzc190b2tlbj0iK3Rva2VuLGNvb2tpZXMgPSB7ImNvb2tpZSI6ZmJjb2tpc30pLmpzb24oKQ0KICAgICAgICAgICAgICAgIGZvciBpZG5tIGluIGRtcFsnZnJpZW5kcyddWydkYXRhJ106DQogICAgICAgICAgICAgICAgICAgIHRvdGFsZG1wKz0xDQogICAgICAgICAgICAgICAgICAgIGZiaWR6LmFwcGVuZChpZG5tWydpZCddKQ0KICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50KGYiXG57U31JRCBOb3QgRm91bmQgLi4uIik7cGFzcw0KICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICBwcmludChmJ0ZpbGUgTmFtZSBUbyBEdW1wIElkcy4gRXhhbXBsZSAvc2RjYXJkL01BRklBLnR4dCcpIA0KICAgICAgICBwcmludCg0NyoiLSIpDQogICAgICAgIGZpbGVwYXRoID0gaW5wdXQoIlB1dCBGaWxlIE5hbWU6ICIpDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmICVzJyUoZmlsZXBhdGgpKQ0KICAgICAgICBjbGVhcigpDQogICAgICAgIGFwbmQgPSBvcGVuKGZpbGVwYXRoLCd3JykNCiAgICAgICAgZm9yIGZidWlkIGluIGZiaWR6Og0KICAgICAgICAgICAgY291bnQgKz0gMQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGRtcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmYnVpZCsiL2ZyaWVuZHM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Iit0b2tlbixjb29raWVzID0geyJjb29raWUiOmZiY29raXN9KS5qc29uKCkNCiAgICAgICAgICAgICAgICBmb3IgaWRubSBpbiBkbXBbJ2ZyaWVuZHMnXVsnZGF0YSddOg0KICAgICAgICAgICAgICAgICAgICBhcG5kLndyaXRlKGlkbm1bJ2lkJ10rInwiK2lkbm1bJ25hbWUnXSsnXG4nKQ0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICBmeCA9IChzdHIobGVuKG9wZW4oZmlsZXBhdGgsJ3InKS5yZWFkbGluZXMoKSkpKQ0KICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcclxye1N9Q29sbGVjdGlvbiBJRHMgPSBbe2Z4fV17U30iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgIGFwbmQuY2xvc2UoKQ0KICAgICAgICBwcmludCgnJykNCiAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICBwcmludCAoZiJUb3RhbCBJRHM6IHsoc3RyKGxlbihvcGVuKGZpbGVwYXRoLCdyJykucmVhZGxpbmVzKCkpKSl9IikNCiAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICBwcmludCAoZiJGaWxlIFNhdmVkIFRvIDoge2ZpbGVwYXRofSAiKQ0KICAgICAgICBwcmludCg0NyoiLSIpDQogICAgICAgIGlucHV0KCJQcmVzcyBFbnRlciBUbyBCYWNrIE1lbnUgIikNCiAgICAgICAgbWVudSgpDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBleGl0KCJbKl0gRXJyb3IgOiAlcyIlZSkNCiAgICAgICAgDQpkZWYgZm9sbG93ZXIoKToNCiAgICBmYmlkeiA9IFtdDQogICAgY2xlYXIoKQ0KICAgIGdsb2JhbCB0b3RhbGRtcCxjb3VudA0KICAgIHRyeToNCiAgICAgICAgZmJjb2tpcyA9IG9wZW4oIi5jb2tpcy50eHQiLCAiciIpLnJlYWQoKQ0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgICAgIHByaW50KGYie0F9Q29va2llIEV4cGlyZWQgIikNCiAgICAgICAgc2xwKDEpDQogICAgICAgIGNtZCgncm0gLXJmIC50b2tuLnR4dCAuY29raXMudHh0JykNCiAgICAgICAgbG9naW4oKQ0KICAgIHRyeToNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBmYmJ1aWQgPSBpbnB1dCgiUHV0IElkIFVzZXJuYW1lOiAiKQ0KICAgICAgICAgICAgY2xlYXIoKQ0KICAgICAgICAgICAgZG1wID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2ZiYnVpZCsiL2ZyaWVuZHM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Iit0b2tlbixjb29raWVzID0geyJjb29raWUiOmZiY29raXN9KS5qc29uKCkNCiAgICAgICAgICAgIGZvciBpZG5tIGluIGRtcFsnZnJpZW5kcyddWydkYXRhJ106DQogICAgICAgICAgICAgICAgdG90YWxkbXArPTENCiAgICAgICAgICAgICAgICBmYmlkei5hcHBlbmQoaWRubVsnaWQnXSkNCiAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgcHJpbnQoZiJ7QX1JRCBOb3QgUHVibGljIik7dGltZS5zbGVlcCgxKQ0KICAgICAgICAgICAgbWVudSgpDQogICAgICAgIHByaW50KGYnRmlsZSBOYW1lIFRvIER1bXAgSWRzLiBFeGFtcGxlIC9zZGNhcmQvTUFGSUEudHh0JykgDQogICAgICAgIHByaW50KDQ3KiItIikNCiAgICAgICAgZmlsZXBhdGggPSBpbnB1dCgiUHV0IEZpbGUgTmFtZTogIikNCiAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgJXMnJShmaWxlcGF0aCkpDQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgYXBuZCA9IG9wZW4oZmlsZXBhdGgsJ3cnKQ0KICAgICAgICBmb3IgZmJ1aWQgaW4gZmJpZHo6DQogICAgICAgICAgICBjb3VudCArPSAxDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgZG1wID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2ZidWlkKyI/ZmllbGRzPXN1YnNjcmliZXJzLmxpbWl0KDUwMDApJmFjY2Vzc190b2tlbj0iK3Rva2VuLGNvb2tpZXMgPSB7ImNvb2tpZSI6ZmJjb2tpc30pLmpzb24oKQ0KICAgICAgICAgICAgICAgIGZvciBpZG5tIGluIGRtcFsnc3Vic2NyaWJlcnMnXVsnZGF0YSddOg0KICAgICAgICAgICAgICAgICAgICBhcG5kLndyaXRlKGlkbm1bJ2lkJ10rInwiK2lkbm1bJ25hbWUnXSsnXG4nKQ0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICBmeCA9IChzdHIobGVuKG9wZW4oZmlsZXBhdGgsJ3InKS5yZWFkbGluZXMoKSkpKQ0KICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZiJcclxye1N9Q29sbGVjdGlvbiBJRHMgPSBbe2Z4fV17U30iKTtzeXMuc3Rkb3V0LmZsdXNoKCkNCiAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjoNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgIGFwbmQuY2xvc2UoKQ0KICAgICAgICBwcmludCgnJykNCiAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICBwcmludCAoZiJUb3RhbCBJRHM6IHsoc3RyKGxlbihvcGVuKGZpbGVwYXRoLCdyJykucmVhZGxpbmVzKCkpKSl9IikNCiAgICAgICAgcHJpbnQoNDcqIi0iKQ0KICAgICAgICBwcmludCAoZiJGaWxlIFNhdmVkIFRvIDoge2ZpbGVwYXRofSAiKQ0KICAgICAgICBwcmludCg0NyoiLSIpDQogICAgICAgIGlucHV0KCJQcmVzcyBFbnRlciBUbyBCYWNrIE1lbnUgIikNCiAgICAgICAgbWVudSgpDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBleGl0KCJbKl0gRXJyb3IgOiAlcyIlZSkNCg0KZGVmIHNpZHMoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChsb2dvKQ0KICAgIHRyeToNCiAgICAgICAgZmlsZV9uYW1lID0gaW5wdXQoJ1B1dCBGaWxlIE5hbWU6ICcpDQogICAgICAgIG9wZW4oZmlsZV9uYW1lLCdyJykucmVhZCgpDQogICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgICAgICBwcmludCgnIEZpbGUgbm90IGZvdW5kLicpDQogICAgICAgIGV4aXQoKQ0KICAgIGNsZWFyKCkNCiAgICBwcmludCgnXDAzM1sxOzM3bVB1dCBsaW1pdCBiZXR3ZWVuIDEgdG8gMTAgXDAzM1swOzk3bScpDQogICAgbGltaXQgPSBpbnQoaW5wdXQoJ0hvdyBtYW55IGxpbmtzIGRvIHlvdSB3YW50IHRvIHNlcGFyYXRlPzogJykpDQogICAgY2xlYXIoKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtRXhhbXBsZTogL3NkY2FyZC9NQUZJQS50eHRcMDMzWzA7OTdtJykNCiAgICBwcmludCg0NyonLScpDQogICAgbmV3X3NhdmUgPSBpbnB1dCgnU2F2ZSBuZXcgZmlsZSBhczogJykNCiAgICBjbGVhcigpDQogICAgcHJpbnQoJ1wwMzNbMTszN21FeGFtcGxlOiAxMDAwOCwxMDAwNywxMDAwNicpDQogICAgcHJpbnQoNDcqJy0nKQ0KICAgIHkgPSAwDQogICAgZm9yIGsgaW4gcmFuZ2UobGltaXQpOg0KICAgICAgICB5Kz0xDQogICAgICAgIGxpbmtzID0gaW5wdXQoJ1B1dCBsaW5rcyAlczogJyUoeSkpDQogICAgICAgIG9zLnN5c3RlbSgnY2F0ICcrZmlsZV9uYW1lKycgfCBncmVwICInK2xpbmtzKyciID4+ICcrbmV3X3NhdmUpDQogICAgcHJpbnQoNDcqJy0nKQ0KICAgIHByaW50KCdMaW5rcyBncmFiYmVkIHN1Y2Nlc3NmdWxseScpDQogICAgcHJpbnQoJ1RvdGFsIGdyYWJiZWQgbGlua3M6ICcrc3RyKGxlbihvcGVuKG5ld19zYXZlKS5yZWFkKCkuc3BsaXRsaW5lcygpKSkpDQogICAgcHJpbnQoJ05ldyBmaWxlIHNhdmVkIGFzOiAnK25ld19zYXZlKQ0KICAgIHByaW50KDQ3KictJykNCiAgICBpbnB1dCgnUHJlc3MgZW50ZXIgdG8gYmFjayBNZW51ICcpDQogICAgbWVudSgpDQogICAgDQpkZWYgY3V0dGVyKCk6DQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBwcmludCgiRW50ZXIgRmlsZSBQYXRoIC8gRmlsZSBMb2NhdGlvbiBcbiIpDQogICAgTUFGSUEgPSBpbnB1dCgnUHV0IEZpbGUgTmFtZSA6JykNCiAgICBwcmludCgiICIpDQogICAgc2FyZnJheiA9IGlucHV0KCdTYXZpbmcgUHV0IEZpbGUgTmFtZSA6JykNCiAgICBvcy5zeXN0ZW0oJ3RvdWNoICcgK3NhcmZyYXopDQogICAgb3Muc3lzdGVtKCdzb3J0IC1yICcrTUFGSUErJyB8IHVuaXEgPiAnK3NhcmZyYXopDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQobG9nbykNCiAgICBwcmludCgiUmVtb3ZlZCBTdWNjZXNzZnVsIEZyb20gRmlsZSA6ICIgKyBNQUZJQSApDQogICAgcHJpbnQoNDcqJy0nKQ0KICAgIHByaW50KCJGaWxlIFNhdmVkIFRvIDoiICsgc2FyZnJheiApDQogICAgcHJpbnQoNDcqJy0nKQ0KICAgIGlucHV0KGYie1N9IFByZXNzIEVudGVyIFRvIEJhY2sgTUFGSUEgTWVudSAiKQ0KICAgIG1lbnUNCiAgICAgICANCg0KIy0tLS0tLVsgTUFJTiBNRU5VIF0tLS0tLS0tLS0+Pg0KZGVmIG1lbnUoKToNCiAgICBjbGVhcigpDQogICAgdHJ5Og0KICAgICAgICBmYmNva2lzID0gb3BlbigiLmNva2lzLnR4dCIsICJyIikucmVhZCgpDQogICAgICAgIHRva2VuID0gb3BlbignLnRva24udHh0JywncicpLnJlYWQoKQ0KICAgICAgICBpbmZvID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS8/YWNjZXNzX3Rva2VuPScrdG9rZW4sY29va2llcyA9IHsiY29va2llIjpmYmNva2lzfSkuanNvbigpDQogICAgICAgIG5hbSA9IGluZm9bJ25hbWUnXQ0KICAgICAgICB1aWQgPSBpbmZvWydpZCddDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlcnJvcjpwcmludCAoIlxuXHgxYlsxOzkxbVsqXSBUb2tlbiBFeHBpcmVkIik7c2xwKDEpO2xvZ2luKCkNCiAgICBjbGVhcigpDQogICAgcHJpbnQoZidOYW1lIDoge25hbX0gfCBJRCA6IHt1aWR9ICAnKQ0KICAgIHByaW50KDQ3KiItIikNCiAgICBwcmludChmJ1sxXSBEdW1wIEZyb20gUHVibGljIFtTaW1wbGVdJykNCiAgICBwcmludChmJ1syXSBEdW1wIEZyb20gUHVibGljIFtVbHRpbWF0ZWQtYXV0by1zZXBhcmF0ZV0nKQ0KICAgIHByaW50KGYnWzNdIER1bXAgRnJvbSBQdWJsaWMgW1VsdGltYXRlZF0nKQ0KICAgIHByaW50KCdbNF0gRHVtcCBGcm9tIEZvbGxvd2VyIFtVbHRpbWF0ZWRdJykNCiAgICBwcmludCgnWzVdIFJlbW92ZSBEdXBsaWNhdGUgTGlua3MgJykNCiAgICBwcmludCgnWzZdIFNlcHJhdGUgTGlua3MgJykNCiAgICBwcmludCgnWzBdIFJlbW92ZSBDb29raWUgJykNCiAgICBwcmludCg0NyoiLSIpDQogICAgc2VsZWN0ID0gaW5wdXQoJ1NlbGVjdCBNZW51OiAnKQ0KICAgIGlmIHNlbGVjdCA9PScxJzoNCiAgICAgICAgcF9kdW1wKCkNCiAgICBlbGlmIHNlbGVjdCA9PScyJzoNCiAgICAgICAgZHVtcCgpDQogICAgZWxpZiBzZWxlY3QgPT0nMyc6DQogICAgICAgIHB1YmxpYygpDQogICAgZWxpZiBzZWxlY3QgPT0nNCc6DQogICAgICAgIGZvbGxvd2VyKCkNCiAgICBlbGlmIHNlbGVjdCA9PSc1JzoNCiAgICAgICAgY3V0dGVyKCkNCiAgICBlbGlmIHNlbGVjdCA9PSc2JzoNCiAgICAgICAgc2lkcygpDQogICAgZWxpZiBzZWxlY3QgPT0nMCc6DQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIC50b2tuLnR4dCcpDQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIC5jb29raXMudHh0JykNCiAgICAgICAgcHJpbnQoZid7Rn1Mb2dvdXQgU3VjY2Vzc2Z1bCcpO3RpbWUuc2xlZXAoMSkNCiAgICAgICAgbWVudSgpDQogICAgICAgIA0KZGVmIHB1c2goZmJ1aWQsZmlsZSxmYmNva2lzLHRva2VuLG1pc3Npb24sdHlwKToNCiAgICBnbG9iYWwgZmlsdGVyLHRvdGFsZG1wDQogICAgdHJ5Og0KICAgICAgICBpZiBpbnQodG90YWxkbXApPj1pbnQobWlzc2lvbik6DQogICAgICAgICAgICBmaWx0ZXIgPSAnQ2xvc2VkJw0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgI2FuZCB0eXBlIGluIGlkbm1bJ2lkJ10NCiAgICAgICAgICAgIGRtcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmYnVpZCsiL2ZyaWVuZHM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Iit0b2tlbixjb29raWVzID0geyJjb29raWUiOmZiY29raXN9KS5qc29uKCkNCiAgICAgICAgICAgIHByaW50KGYnXHIgRHVtcGluZyA6IHtmYnVpZH0gIElEcyA6IHt0b3RhbGRtcH0nKQ0KICAgICAgICAgICAgZm9yIGlkbm0gaW4gZG1wWydmcmllbmRzJ11bJ2RhdGEnXToNCiAgICAgICAgICAgICAgICBpZiBpZG5tWydpZCddIG5vdCBpbiBmaWx0ZXI6DQogICAgICAgICAgICAgICAgICAgIGlmIHN0cih0eXApIGluIGlkbm1bJ2lkJ106DQogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuYXBwZW5kKGlkbm1bJ2lkJ10pDQogICAgICAgICAgICAgICAgICAgICAgICBvcGVuKGZpbGUsJ2EnKS53cml0ZShpZG5tWydpZCddKyJ8IitpZG5tWyduYW1lJ10rJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsZG1wKz0xDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlcnJvcjoNCiAgICAgICAgcGFzcw0KDQpkZWYgc2VudChmaWxlLGZiY29raXMsdG9rZW4pOg0KICAgIGdsb2JhbCBzYXZlZCx0b3RhbGRtcA0KICAgIHRyeToNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICBwcmludCgnSG93IE1hbnkgSURzIFlvdSBXYW50IFRvIER1bXAgXG5FeGFtcGxlIDogMTAwMCw1MDAwLDEwMDAwXG4nKQ0KICAgICAgICBtaXNzaW9uID0gaW50KGlucHV0KCdFbnRlciBsaW1pdDogXHgxYlsxOzkybScpKQ0KICAgICAgICBjbGVhcigpDQogICAgICAgIHByaW50KCdXaGljaCBJRHMgWW91IFdhbnQgVG8gRHVtcCBcbkV4YW1wbGUgOiAxMDAwOCwxMDAwODcsMTAwMDcsbWl4XG4nKQ0KICAgICAgICB0eXAgPSBpbnB1dCgnTGlua3M6IFx4MWJbMTs5N20nKQ0KICAgICAgICBpZiAnbWl4JyBpbiB0eXAubG93ZXIoKToNCiAgICAgICAgICAgIHR5cCA9ICcxJw0KICAgICAgICBjbGVhcigpDQogICAgICAgIGZvciBmYnVpZCBpbiBzYXZlZDoNCiAgICAgICAgICAgIGZhc3Rfd29yayhwdXNoLGZidWlkLGZpbGUsZmJjb2tpcyx0b2tlbixtaXNzaW9uLHR5cCkNCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGVycm9yOg0KICAgICAgICBleGl0KGYnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuVG90YWwgRHVtcGVkIC0ge3RvdGFsZG1wfSBJRHMgXG5TYXZlZCBUbyA9IHtmaWxlfVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpDQoNCmRlZiBkdW1wKCk6DQogICAgZ2xvYmFsIHNhdmVkLHRvdGFsZG1wDQogICAgY2xlYXIoKQ0KICAgIHRyeToNCiAgICAgICAgZmJjb2tpcyA9IG9wZW4oIi5jb2tpcy50eHQiLCAiciIpLnJlYWQoKQ0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgICAgIGxvZ2luKCkNCiAgICBleGNlcHQ6DQogICAgICAgIGxvZ2luKCkNCiAgICB0cnk6DQogICAgICAgIHByaW50KCdFbnRlciBEdW1wIElEIFNhdmUgUGF0aFxuJykNCiAgICAgICAgZmlsZSA9IGlucHV0KCdFbnRlciBGaWxlOlx4MWJbMTs5N20gJykNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICBwcmludCgnSUYgWW91IFdhbnQgVG8gQmFjayBUbyBNZW51LiBUaGVuIFR5cGUgXCdCXCcgXG4nKQ0KICAgICAgICB3aGlsZSBUcnVlOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGZidWlkID0gaW5wdXQoJ1B1dCBpZCB1c2VybmFtZTpceDFiWzE7OTdtICcpDQogICAgICAgICAgICAgICAgaWYgJ0InIGluIGZidWlkLnVwcGVyKCk6DQogICAgICAgICAgICAgICAgICAgIG1lbnUoKQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIGRtcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmYnVpZCsiL2ZyaWVuZHM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Iit0b2tlbixjb29raWVzID0geyJjb29raWUiOmZiY29raXN9KS5qc29uKCkNCiAgICAgICAgICAgICAgICBmb3IgaWRubSBpbiBkbXBbJ2ZyaWVuZHMnXVsnZGF0YSddOg0KICAgICAgICAgICAgICAgICAgICBvcGVuKGZpbGUsJ2EnKS53cml0ZShpZG5tWydpZCddKyJ8IitpZG5tWyduYW1lJ10rJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgdG90YWxkbXArPTENCiAgICAgICAgICAgICAgICAgICAgc2F2ZWQuYXBwZW5kKGlkbm1bJ2lkJ10pDQogICAgICAgICAgICAgICAgcHJpbnQoZidUb3RhbCBUYXJnZXQgRm91bmQ6XHgxYlsxOzk3bSB7bGVuKHNhdmVkKX0nKQ0KICAgICAgICAgICAgICAgIHNscCgyKQ0KICAgICAgICAgICAgICAgIHNlbnQoZmlsZSxmYmNva2lzLHRva2VuKQ0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgZXhpdCgnQnllIEJ5ZScpDQogICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgcHJpbnQoJ0lEIE5vdCBQdWJsaWMnKQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlcnJvcjoNCiAgICAgICAgbWVudSgpDQoNCmRlZiBwX2R1bXAoKToNCiAgICBnbG9iYWwgdG90YWxkbXAsc3JhbmdlDQogICAgdHJ5Og0KICAgICAgICB0b2tlbiA9IG9wZW4oJy50b2tuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICAgICAgZmJjb2tpcyA9IG9wZW4oIi5jb2tpcy50eHQiLCAiciIpLnJlYWQoKQ0KICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoNCiAgICAgICAgcHJpbnQoZiJ7QX1cblx0XHRDb29raWUgTm90IEZvdW5kIC4uLntTfSIpDQogICAgICAgIHNscCgxKQ0KICAgICAgICBjbWQoJ3JtIC1yZiAudG9rZW4udHh0IC5jb29raWUudHh0JykNCiAgICAgICAgbG9naW4oKQ0KICAgIHRyeToNCiAgICAgICAgdG9rZW4gPSBvcGVuKCcudG9rbi50eHQnLCdyJykucmVhZCgpDQogICAgICAgIGZiY29raXMgPSBvcGVuKCIuY29raXMudHh0IiwgInIiKS5yZWFkKCkNCiAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6DQogICAgICAgIHByaW50KGYie0F9Q29va2llIE5vdCBGb3VuZCAuLi57U30iKQ0KICAgICAgICBzbHAoMSkNCiAgICAgICAgY21kKCdybSAtcmYgLnRva2VuLnR4dCAuY29va2llLnR4dCcpDQogICAgICAgIGxvZ2luKCkNCiAgICB0cnk6DQogICAgICAgIGNsZWFyKCkNCiAgICAgICAgDQogICAgICAgIHNyYW5nZSA9IGludChpbnB1dCgnSG93IG1hbnkgSURzIGRvIHlvdSB3YW50IHRvIGFkZD86ICcgKSkNCiAgICAgICAgY2xlYXIoKQ0KICAgICAgICBwcmludChmJ3tTfUZpbGUgTmFtZSBUbyBEdW1wIElkcy4gRXhhbXBsZSAvc2RjYXJkL01BRklBLnR4dFxuJykgDQogICAgICAgIGZpbGVwYXRoID0gaW5wdXQoIlB1dCBGaWxlIE5hbWU6ICIpDQogICAgICAgIGFwbmQgPSBvcGVuKGZpbGVwYXRoICwgJ2EnKQ0KICAgICAgICBjbGVhcigpDQogICAgICAgIGZvciByZXB0IGluIHJhbmdlKHNyYW5nZSk6DQogICAgICAgICAgICByZXB0ICs9IDENCiAgICAgICAgICAgIHNpZCA9IGlucHV0KCJbIiArIHN0cihyZXB0KSArICJdIFB1dCBpZCB1c2VybmFtZTogIikNCiAgICAgICAgICAgIGlmICBzaWQ9PSdzdG9wJzoNCiAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIHlzLmNsb3NlKCkNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBkbXAgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrc2lkKyIvZnJpZW5kcz9saW1pdD01MDAwJmFjY2Vzc190b2tlbj0iK3Rva2VuLGNvb2tpZXMgPSB7ImNvb2tpZSI6ZmJjb2tpc30pLmpzb24oKQ0KICAgICAgICAgICAgICAgIGZvciBpZG5tIGluIGRtcFsnZnJpZW5kcyddWydkYXRhJ106DQogICAgICAgICAgICAgICAgICAgIHRvdGFsZG1wKz0xDQogICAgICAgICAgICAgICAgICAgIGFwbmQud3JpdGUoaWRubVsnaWQnXSsifCIraWRubVsnbmFtZSddKydcbicpICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgICAgIHByaW50KGYiXG57U31JRCBOb3QgRm91bmQgLi4uIik7cGFzcw0KICAgICAgICAgICAgcHJpbnQoZid7U31Ub3RhbCBJRHMgOiB7dG90YWxkbXB9JykNCiAgICAgICAgYXBuZC5jbG9zZSgpDQogICAgICAgIHByaW50KDQ3KictJykNCiAgICAgICAgcHJpbnQoZiJUb3RhbCBJRHM6IHt0b3RhbGRtcH0gIikNCiAgICAgICAgcHJpbnQoZiJGaWxlIFNhdmVkIFRvICB7ZmlsZXBhdGh9ICIpDQogICAgICAgIHByaW50KDQ3KictJykNCiAgICAgICAgaW5wdXQoIlByZXNzIGVudGVyIHRvIGJhY2sgTUFGSUEgTWVudSAiKQ0KICAgICAgICBNQUZJQShhbGxrZXkpDQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICBwcmludCgiRXJyb3IgOiAlcyIlZSkgDQogICAgICAgIA0KZGVmIGN1dHRlcigpOg0KICAgIGNsZWFyKCkNCiAgICBwcmludCgiRW50ZXIgRmlsZSBQYXRoIC8gRmlsZSBMb2NhdGlvbiBcbiIpDQogICAgTUFGSUEgPSBpbnB1dCgnUHV0IEZpbGUgTmFtZTonKQ0KICAgIHByaW50KCIgIikNCiAgICBzYXJmcmF6ID0gaW5wdXQoJ1NhdmluZyBQdXQgRmlsZSBOYW1lOicpDQogICAgb3Muc3lzdGVtKCd0b3VjaCAnICtzYXJmcmF6KQ0KICAgIG9zLnN5c3RlbSgnc29ydCAtciAnK01BRklBKycgfCB1bmlxID4gJytzYXJmcmF6KQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50KGxvZ28pDQogICAgcHJpbnQoIlJlbW92ZWQgU3VjY2Vzc2Z1bCBGcm9tIEZpbGU6ICIgKyBNQUZJQSApDQogICAgcHJpbnQoIk5ldyBGaWxlIFNhdmVkOiIgKyBzYXJmcmF6ICkNCiAgICBwcmludCg0NyonLScpDQogICAgaW5wdXQoZiJ7U30gUHJlc3MgRW50ZXIgVG8gQmFjayBNQUZJQSBNZW51ICIpDQogICAgTUFGSUEoYWxsa2V5KSAgICAgICANCiAgICANCmRlZiByZW1vdmVmKCk6DQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIHNlbGYuZmlsZScpO3ByaW50KGYnXG57Un1GaWxlcyBSZW1vdmVkIFN1Y2Nlc3NmdWxseSAuLi4nKQ0KICAgICAgICBNQUZJQShhbGxrZXkpICAgICAgICAgICAgDQogDQoNCnNhcmZyYXooKQ0K"))